android {
    
    
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
     packagingOptions {
        exclude 'META-INF/NOTICE'
        exclude 'META-INF/ASL2.0'
        exclude 'META-INF/LICENSE'
    }

}
dependencies{
    implementation 'com.optimove.android:optimove-android:6.+'
       def work_version = "2.6.0"
    // Force WorkManager 2.6.0 for transitive dependency
    implementation("androidx.work:work-runtime-ktx:$work_version") {
        force = true
    }
    
}

// Application of google services plugin based on
// https://github.com/chemerisuk/cordova-support-google-services
buildscript {
    repositories {
        google()
        mavenCentral()
    }

    dependencies {
        classpath 'com.google.gms:google-services:4.3.8'
        
        
    }
}

// use postBuildExtras to make sure the plugin is applied after
// cdvPluginPostBuildExtras. Therefore if googleServices is added
// to cdvPluginPostBuildExtras somewhere else, the plugin execution
// will be skipped and project build will be successfull
ext.postBuildExtras = {
    if (file("./google-services.json").exists()) {
        if (project.extensions.findByName('googleServices') == null) {
            // apply plugin: 'com.google.gms.google-services'
            // class must be used instead of id(string) to be able to apply plugin from non-root gradle file
            apply plugin: com.google.gms.googleservices.GoogleServicesPlugin
        }
    }
    dependencies {
        implementation platform('com.google.firebase:firebase-bom:28.2.0')
        implementation 'com.google.firebase:firebase-messaging'
    }
}