(()=>{"use strict";var e={n:n=>{var i=n&&n.__esModule?()=>n.default:()=>n;return e.d(i,{a:i}),i},d:(n,i)=>{for(var t in i)e.o(i,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:i[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>s});const i=require("cordova");var t=e.n(i);let l={pushReceivedHandler:null,pushOpenedHandler:null,inAppDeepLinkHandler:null,inAppInboxUpdatedHandler:null,deepLinkHandler:null};function r(){(function(){let e=null!==l.pushOpenedHandler,n=null!==l.deepLinkHandler;return new Promise(((i,l)=>{t().exec(o,l,"OptimoveSDKPlugin","setHandlersCallBackContext",[e,n])}))})().then((e=>{console.log(e)}),(e=>{console.error(e)}))}function o(e){var n;if(!e||"string"==typeof e)return;const i=`${e.type}Handler`;"inAppInboxUpdatedHandler"!==i?null!==l[i]?l[i](e.data):console.log(`Optimove: No handler defined for '${e.type}' event`):null===(n=l[i])||void 0===n||n.call(l)}document.addEventListener("deviceready",(function(){r()}),!1),document.addEventListener("resume",(function(){r()}),!1),document.addEventListener("pause",(function(){new Promise(((e,n)=>{t().exec(e,n,"OptimoveSDKPlugin","clearContext",[])}))}),!1);const s={setUserId:e=>new Promise(((n,i)=>{t().exec(n,i,"OptimoveSDKPlugin","setUserId",[e])})),setUserEmail:e=>new Promise(((n,i)=>{t().exec(n,i,"OptimoveSDKPlugin","setUserEmail",[e])})),reportEvent:(e,n)=>new Promise(((i,l)=>{t().exec(i,l,"OptimoveSDKPlugin","reportEvent",[e,n])})),reportScreenVisit:(e,n)=>new Promise(((i,l)=>{t().exec(i,l,"OptimoveSDKPlugin","reportScreenVisit",[e,n])})),registerUser:(e,n)=>new Promise(((i,l)=>{t().exec(i,l,"OptimoveSDKPlugin","registerUser",[e,n])})),getVisitorId:()=>new Promise(((e,n)=>{t().exec(e,n,"OptimoveSDKPlugin","getVisitorId",[])})),pushRegister:()=>new Promise(((e,n)=>{t().exec(e,n,"OptimoveSDKPlugin","pushRegister",[])})),inAppUpdateConsent:e=>new Promise(((n,i)=>{t().exec(n,i,"OptimoveSDKPlugin","inAppUpdateConsent",[e])})),inAppGetInboxItems:()=>new Promise(((e,n)=>{t().exec(e,n,"OptimoveSDKPlugin","inAppGetInboxItems",[])})).then((e=>e.map((e=>({id:e.id,title:e.title,subtitle:e.subtitle,availableFrom:null===e.availableFrom?null:new Date(e.availableFrom),availableTo:null===e.availableFrom?null:new Date(e.availableTo),dismissedAt:null===e.availableFrom?null:new Date(e.dismissedAt),sentAt:new Date(e.sentAt),data:e.data,isRead:e.isRead,imageUrl:e.imageUrl}))))),inAppMarkAllInboxItemsAsRead:()=>new Promise(((e,n)=>{t().exec(e,n,"OptimoveSDKPlugin","inAppMarkAllInboxItemsAsRead",[])})),inAppMarkAsRead:e=>new Promise(((n,i)=>{t().exec(n,i,"OptimoveSDKPlugin","inAppMarkAsRead",[e.id])})),inAppGetInboxSummary:()=>new Promise(((e,n)=>{t().exec(e,n,"OptimoveSDKPlugin","inAppGetInboxSummary",[])})),inAppPresentInboxMessage:e=>new Promise(((n,i)=>{t().exec(n,i,"OptimoveSDKPlugin","inAppPresentInboxMessage",[e.id])})),inAppDeleteMessageFromInbox:e=>new Promise(((n,i)=>{t().exec(n,i,"OptimoveSDKPlugin","inAppDeleteMessageFromInbox",[e.id])})),setOnInboxUpdatedHandler:e=>{l.inAppInboxUpdatedHandler=e},setPushOpenedHandler(e){l.pushOpenedHandler=e,null!=e&&new Promise(((e,n)=>{t().exec(o,n,"OptimoveSDKPlugin","checkIfPendingPushExists",[])}))},setPushReceivedHandler(e){l.pushReceivedHandler=e},setInAppDeepLinkHandler(e){l.inAppDeepLinkHandler=e},setDeepLinkHandler(e){l.deepLinkHandler=e,new Promise(((e,n)=>{t().exec(o,n,"OptimoveSDKPlugin","checkIfPendingDDLExists",[])}))}};module.exports=n})();