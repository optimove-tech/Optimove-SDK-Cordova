(()=>{document.addEventListener("deviceready",(function(){Optimove.setOnInboxUpdatedHandler(d),Optimove.setPushReceivedHandler(n),Optimove.setInAppDeepLinkHandler(a),Optimove.setPushOpenedHandler(i),Optimove.setDeepLinkHandler(t)}),!1);let e=document.getElementById("text-area-output");function t(e){u("deepLinkHandler: "+JSON.stringify(e))}function n(e){u("pushReceivedHandler: "+JSON.stringify(e))}function i(e){u("pushOpenedHandler: "+JSON.stringify(e))}function a(e){u("inAppDeepLinkHandler: "+JSON.stringify(e))}function d(){u("inboxUpdated")}function o(){var e=parseInt(document.getElementById("text-area-in-app-inbox-item").value);return isNaN(e)?(alert("item id is required"),null):{id:e,title:"test",subtitle:"test",availableFrom:null,availableTo:null,dismissedAt:null,data:null,isRead:!1,imageUrl:null,sentAt:new Date}}function u(t){e.value=e.value+"\n"+t,e.rows=e.rows+1}function r(){alert("Success!")}function s(e){alert(e)}document.getElementById("set-user-id-button").addEventListener("click",(function(){Optimove.setUserId(document.getElementById("text-area-user-id").value).then((()=>{document.getElementById("text-area-user-id").value="",r()}),s)})),document.getElementById("report-event-button").addEventListener("click",(function(){const e=document.getElementById("text-area-event-params").value;var t=null;""!==e&&(t=JSON.parse(e));const n=document.getElementById("text-area-event").value;Optimove.reportEvent(n,t).then((()=>{document.getElementById("text-area-event").value="",document.getElementById("text-area-event-params").value="",r()}),s)})),document.getElementById("set-user-email-button").addEventListener("click",(function(){Optimove.setUserEmail(document.getElementById("text-area-user-email").value).then((()=>{document.getElementById("text-area-user-email").value="",r()}),s)})),document.getElementById("report-screen-visit-button").addEventListener("click",(function(){const e=document.getElementById("text-area-screen-name").value;var t=document.getElementById("text-area-screen-category").value;""===t&&(t=void 0),Optimove.reportScreenVisit(e,t).then((()=>{document.getElementById("text-area-screen-name").value="",document.getElementById("text-area-screen-category").value="",r()}),s)})),document.getElementById("register-user-button").addEventListener("click",(function(){Optimove.registerUser(document.getElementById("text-area-user-id").value,document.getElementById("text-area-user-email").value).then((()=>{document.getElementById("text-area-user-id").value="",document.getElementById("text-area-user-email").value="",r()}),s)})),document.getElementById("sign-out-user-button").addEventListener("click",(function(){Optimove.signOutUser().then(r,s)})),document.getElementById("get-visitor-id-button").addEventListener("click",(function(){Optimove.getVisitorId().then((e=>{u("visitor id:"+e)}),s)})),document.getElementById("push-register-button").addEventListener("click",(function(){Optimove.pushRequestDeviceToken().then(r,s)})),document.getElementById("in-app-consent-true").addEventListener("click",(function(){Optimove.inAppUpdateConsent(!0).then(r,s)})),document.getElementById("in-app-consent-false").addEventListener("click",(function(){Optimove.inAppUpdateConsent(!1).then(r,s)})),document.getElementById("in-app-get-inbox-items-button").addEventListener("click",(function(){Optimove.inAppGetInboxItems().then((e=>{u("inbox items: "+JSON.stringify(function(e){let t,n=[];for(t of e)n.push({id:t.id,isRead:t.isRead,sentAt:t.sentAt.toISOString()});return n}(e)))}),s)})),document.getElementById("in-app-mark-all-inbox-items-as-read-button").addEventListener("click",(function(){Optimove.inAppMarkAllInboxItemsAsRead().then(r,s)})),document.getElementById("in-app-mark-inbox-item-as-read-button").addEventListener("click",(function(){let e=o();null!==e&&Optimove.inAppMarkAsRead(e).then(r,s)})),document.getElementById("in-app-get-inbox-summary-button").addEventListener("click",(function(){Optimove.inAppGetInboxSummary().then((e=>{u(JSON.stringify(e))}),s)})),document.getElementById("in-app-present-inbox-message-button").addEventListener("click",(function(){let e=o();null!==e&&Optimove.inAppPresentInboxMessage(e).then((e=>{switch(e){case OptimoveInAppPresentationResult.PRESENTED:u("inAppPresentationResult: presented");break;case OptimoveInAppPresentationResult.EXPIRED:u("inAppPresentationResult: expired");break;case OptimoveInAppPresentationResult.FAILED:u("inAppPresentationResult: failed")}}),s)})),document.getElementById("in-app-delete-inbox-message-button").addEventListener("click",(function(){let e=o();null!==e&&Optimove.inAppDeleteMessageFromInbox(e).then(r,s)})),document.getElementById("text-area-clear").addEventListener("click",(function(){document.getElementById("text-area-output").value=""})),module.exports={}})();